(function(y,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("vue-router")):typeof define=="function"&&define.amd?define(["exports","vue","vue-router"],e):(y=typeof globalThis<"u"?globalThis:y||self,e(y["mst-auto-page"]={},y.Vue,y.vueRouter))})(this,function(y,e,h){"use strict";const b=["href","title"],S=["src"],H=["title"],w=Object.assign({name:"column"},{props:{filedData:Object,rowData:Object},setup(a){const t=a,i=(o,n)=>n===1?Object.prototype.toString.call(o)==="[object Object]":n===2?Object.prototype.toString.call(o)==="[object Array]":n===3?Object.prototype.toString.call(o)==="[object String]":n===4?Object.prototype.toString.call(o)==="[object Number]":n===5?Object.prototype.toString.call(o)==="[object Null]":!1,s=(o,n)=>i(o,1)?Object.prototype.hasOwnProperty.call(o,n):!1,m=()=>{typeof t.filedData.callback=="function"&&t.filedData.callback(t.rowData,t.filedData)},k=()=>t.filedData.caseColon?t.filedData.caseColon(t.rowData,t.filedData):!0,D=()=>s(t.filedData,"link")?typeof t.filedData.link=="function"?t.filedData.link(t.rowData):t.rowData[t.filedData.link]?t.rowData[t.filedData.link]:t.filedData.link:"",r=()=>s(t.filedData,"style")?typeof t.filedData.style=="function"?t.filedData.style(t.rowData):t.rowData[t.filedData.style]?t.rowData[t.filedData.style]:t.filedData.style:"",c=()=>s(t.filedData,"title")?typeof t.filedData.title=="function"?t.filedData.title(t.rowData):t.rowData[t.filedData.title]?t.rowData[t.filedData.title]:t.filedData.title:"",l=()=>s(t.filedData,"name")?typeof t.filedData.name=="function"?t.filedData.name(t.rowData):t.rowData[t.filedData.name]?t.rowData[t.filedData.name]:t.filedData.name:"",d=()=>s(t.filedData,"class")?typeof t.filedData.class=="function"?t.filedData.class(t.rowData):t.filedData.class:"",g=()=>typeof t.filedData.comp.data=="function"?t.filedData.comp.data(t.rowData):t.filedData.comp.data;return(o,n)=>{const p=e.resolveComponent("router-link");return k()?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.type==="link"?(e.openBlock(),e.createElementBlock("a",{key:0,onClick:n[0]||(n[0]=f=>m()),class:e.normalizeClass(d()),href:D(),title:c(),style:e.normalizeStyle(r())},[a.filedData.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.html?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"span"),{key:0,innerHTML:l()},null,8,["innerHTML"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l()),1)],64))],64)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default")],14,b)):a.filedData.type==="img"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("img",{class:e.normalizeClass(d()),src:l(),onClick:n[1]||(n[1]=f=>m())},null,10,S),e.renderSlot(o.$slots,"default")],64)):a.filedData.type==="checkbox"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.withDirectives(e.createElementVNode("input",{onClick:n[2]||(n[2]=f=>m()),"onUpdate:modelValue":n[3]||(n[3]=f=>a.rowData.select=f),type:"checkbox",class:e.normalizeClass(d()),title:c(),style:e.normalizeStyle(r())},null,14,H),[[e.vModelCheckbox,a.rowData.select]]),e.renderSlot(o.$slots,"default")],64)):a.filedData.type==="router-link"?(e.openBlock(),e.createBlock(p,{key:3,class:e.normalizeClass(d()),to:D(),onClick:n[4]||(n[4]=f=>m()),title:c(),style:e.normalizeStyle(r())},{default:e.withCtx(()=>[a.filedData.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.html?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"span"),{key:0,innerHTML:l()},null,8,["innerHTML"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l()),1)],64))],64)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default")]),_:3},8,["class","to","title","style"])):a.filedData.type==="comp"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[a.filedData.comp?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"div"),{key:0,class:e.normalizeClass(d())},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.comp.name),{compData:g(),rowData:a.rowData},null,8,["compData","rowData"])),e.renderSlot(o.$slots,"default")]),_:3},8,["class"])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"div"),{key:5,onClick:n[5]||(n[5]=f=>m()),class:e.normalizeClass(d()),title:c(),style:e.normalizeStyle(r())},{default:e.withCtx(()=>[a.filedData.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.html?(e.openBlock(),e.createBlock(e.resolveDynamicComponent("span"),{key:0,innerHTML:l()},null,8,["innerHTML"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l()),1)],64))],64)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default")]),_:3},8,["class","title","style"]))],64)):e.createCommentVNode("",!0)}}}),$=["placeholder"],j=Object.assign({name:"AutoSearch"},{props:{autoSearch:Object,runSearch:Function,preHandler:Object},setup(a){return(t,i)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>a.preHandler.autoSearch.value=s),onInput:i[1]||(i[1]=s=>a.runSearch()),class:e.normalizeClass(a.autoSearch.class),placeholder:a.autoSearch.placeholder?a.autoSearch.placeholder:"Search"},null,42,$)),[[e.vModelText,a.preHandler.autoSearch.value]])}}),E={class:"col-12"},O={class:"pagination float-left"},u={key:1,class:"page-link",href:"javascript:;"},N=["onClick"],V={key:1,class:"page-link",href:"javascript:;"},z=Object.assign({name:"Pagination"},{props:{preHandler:Object},setup(a){const t=a,i=h.useRoute(),s=h.useRouter(),m=(c,l,d)=>{if(c<=d)return[];var g,o=Math.ceil(c/d),n=Math.min(10,o);if(l>o)l=o,g=o-n;else{var p=Math.ceil(n/2);g=l+p>o?o+1-n:p+1>l?1:l-p}g=Math.max(1,g);var f=Array.apply(null,new Array(n)).map(function(ne,G){return g+G++});return f.indexOf(1)===-1&&(f.shift(),f.unshift(1)),f.indexOf(o)===-1&&f.push(o),f},k=async c=>{if(t.preHandler.dynamic){if(typeof t.preHandler.tableCahngePage=="function"){let l=JSON.parse(JSON.stringify(i.query));l.page=c,await s.push({name:i.name,query:l}),i.query.page=c,t.preHandler.pagination.page=c,t.preHandler.tableCahngePage(c,i.query)}}else t.preHandler.pagination.page=c,t.preHandler.tableCahngePage(c,i.query)},D=e.computed(()=>m(t.preHandler.pagination.total,t.preHandler.pagination.page,t.preHandler.pagination.pageSize)),r=e.computed(()=>Math.ceil(t.preHandler.pagination.total/t.preHandler.pagination.pageSize));return(c,l)=>e.unref(r)>0?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["row mt-2",{disabledbutton:t.preHandler.loader}])},[e.createElementVNode("div",E,[e.createElementVNode("ul",O,[e.createElementVNode("li",{class:e.normalizeClass(["page-item",{disabled:a.preHandler.pagination.page==1}])},[a.preHandler.pagination.page>1?(e.openBlock(),e.createElementBlock("a",{key:0,class:"page-link",href:"javascript:;",onClick:l[0]||(l[0]=d=>k(parseInt(a.preHandler.pagination.page)-1))},"prev")):(e.openBlock(),e.createElementBlock("a",u,"Prev"))],2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(D),d=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["page-item",{active:a.preHandler.pagination.page==d}]),key:d},[e.createElementVNode("a",{class:"page-link",href:"javascript:;",onClick:g=>k(d)},e.toDisplayString(d),9,N)],2))),128)),e.unref(r)>0?(e.openBlock(),e.createElementBlock("li",{key:0,class:e.normalizeClass(["page-item",{disabled:a.preHandler.pagination.page>=e.unref(r)}])},[a.preHandler.pagination.page<e.unref(r)?(e.openBlock(),e.createElementBlock("a",{key:0,class:"page-link",href:"javascript:;",onClick:l[1]||(l[1]=d=>k(parseInt(a.preHandler.pagination.page)+1))}," Next ")):(e.openBlock(),e.createElementBlock("a",V,"Next"))],2)):e.createCommentVNode("",!0)])])],2)):e.createCommentVNode("",!0)}}),F=["innerHTML"],x=["innerHTML"],L=Object.assign({name:"ListHeader"},{props:{tableData:Object,preHandler:Object,searchData:Array},setup(a){const t=a,i=e.ref(!1);e.watch(i,(r,c)=>{t.searchData.forEach(l=>{l.select=r})});const s=()=>{var r="";t.preHandler.sorting.t===1?r=t.preHandler.sorting.r?'a["'+t.preHandler.sorting.n+'"].localeCompare(b["'+t.preHandler.sorting.n+'"])':'b["'+t.preHandler.sorting.n+'"].localeCompare(a["'+t.preHandler.sorting.n+'"])':t.preHandler.sorting.t===2&&(r=t.preHandler.sorting.r?'a["'+t.preHandler.sorting.n+'"] - b["'+t.preHandler.sorting.n+'"]':'b["'+t.preHandler.sorting.n+'"] - a["'+t.preHandler.sorting.n+'"]');let c="return "+r;return new Function("a,b",c)},m=r=>t.preHandler.sorting.n===r?t.preHandler.sorting.r?"&#8650;":"&#8648;":"&#8645;",k=r=>r&&r.caseColon?r.caseColon(r):!0,D=r=>{if(r.sort){t.preHandler.sorting.r=t.preHandler.sorting.n===r.sort.n&&!t.preHandler.sorting.r,t.preHandler.sorting.n=r.sort.n,t.preHandler.sorting.t=r.sort.t;const c=s();t.searchData.sort(c)}};return(r,c)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.tableData.line?a.tableData.line.tag:"tr"),{class:e.normalizeClass(a.tableData.line.class)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.tableData.data,l=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:l.name},[k(l)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.tag?l.tag:"th"),{key:0,class:e.normalizeClass(l.tclass?l.tclass:""),style:e.normalizeStyle(l.style),onClick:d=>D(l)},{default:e.withCtx(()=>[l.checkbox?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,type:"checkbox",class:e.normalizeClass(l.class),"onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d)},null,2)),[[e.vModelCheckbox,i.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(l.class),innerHTML:l.title},null,10,F)),l.sort?(e.openBlock(),e.createElementBlock("span",{key:2,innerHTML:m(l.sort.n)},null,8,x)):e.createCommentVNode("",!0)]),_:2},1032,["class","style","onClick"])):e.createCommentVNode("",!0)],64))),128))]),_:1},8,["class"]))}}),T=["href","title"],M=["src"],P=["title"],C=Object.assign({name:"column"},{props:{filedData:Object,rowData:Object},setup(a){const t=a,i=(o,n)=>n===1?Object.prototype.toString.call(o)==="[object Object]":n===2?Object.prototype.toString.call(o)==="[object Array]":n===3?Object.prototype.toString.call(o)==="[object String]":n===4?Object.prototype.toString.call(o)==="[object Number]":n===5?Object.prototype.toString.call(o)==="[object Null]":!1,s=(o,n)=>i(o,1)?Object.prototype.hasOwnProperty.call(o,n):!1,m=()=>{typeof t.filedData.callback=="function"&&t.filedData.callback(t.rowData,t.filedData)},k=()=>t.filedData.caseColon?t.filedData.caseColon(t.rowData,t.filedData):!0,D=()=>s(t.filedData,"link")?typeof t.filedData.link=="function"?t.filedData.link(t.rowData):t.rowData[t.filedData.link]?t.rowData[t.filedData.link]:t.filedData.link:"",r=()=>s(t.filedData,"style")?typeof t.filedData.style=="function"?t.filedData.style(t.rowData):t.rowData[t.filedData.style]?t.rowData[t.filedData.style]:t.filedData.style:"",c=()=>s(t.filedData,"title")?typeof t.filedData.title=="function"?t.filedData.title(t.rowData):t.rowData[t.filedData.title]?t.rowData[t.filedData.title]:t.filedData.title:"",l=()=>s(t.filedData,"name")?typeof t.filedData.name=="function"?t.filedData.name(t.rowData):t.rowData[t.filedData.name]?t.rowData[t.filedData.name]:t.filedData.name:"",d=()=>s(t.filedData,"class")?typeof t.filedData.class=="function"?t.filedData.class(t.rowData):t.filedData.class:"",g=()=>typeof t.filedData.comp.data=="function"?t.filedData.comp.data(t.rowData):t.filedData.comp.data;return(o,n)=>{const p=e.resolveComponent("router-link");return k()?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.type==="link"?(e.openBlock(),e.createElementBlock("a",{key:0,onClick:n[0]||(n[0]=f=>m()),class:e.normalizeClass(d()),href:D(),title:c(),style:e.normalizeStyle(r())},[a.filedData.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.html?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"span"),{key:0,innerHTML:l()},null,8,["innerHTML"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l()),1)],64))],64)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default")],14,T)):a.filedData.type==="img"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("img",{class:e.normalizeClass(d()),src:l(),onClick:n[1]||(n[1]=f=>m())},null,10,M),e.renderSlot(o.$slots,"default")],64)):a.filedData.type==="checkbox"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.withDirectives(e.createElementVNode("input",{onClick:n[2]||(n[2]=f=>m()),"onUpdate:modelValue":n[3]||(n[3]=f=>a.rowData.select=f),type:"checkbox",class:e.normalizeClass(d()),title:c(),style:e.normalizeStyle(r())},null,14,P),[[e.vModelCheckbox,a.rowData.select]]),e.renderSlot(o.$slots,"default")],64)):a.filedData.type==="router-link"?(e.openBlock(),e.createBlock(p,{key:3,class:e.normalizeClass(d()),to:D(),onClick:n[4]||(n[4]=f=>m()),title:c(),style:e.normalizeStyle(r())},{default:e.withCtx(()=>[a.filedData.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.filedData.html?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"span"),{key:0,innerHTML:l()},null,8,["innerHTML"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l()),1)],64))],64)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default")]),_:3},8,["class","to","title","style"])):a.filedData.type==="comp"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[a.filedData.comp?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"div"),{key:0,class:e.normalizeClass(d())},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.comp.name),{compData:g(),rowData:a.rowData},null,8,["compData","rowData"])),e.renderSlot(o.$slots,"default")]),_:3},8,["class"])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"div"),{key:5,onClick:n[5]||(n[5]=f=>m()),class:e.normalizeClass(d()),title:c(),style:e.normalizeStyle(r())},{default:e.withCtx(()=>[a.filedData.list?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(a.filedData.list,f=>(e.openBlock(),e.createBlock(C,{key:f.name,filedData:f,rowData:a.rowData},null,8,["filedData","rowData"]))),128)):e.createCommentVNode("",!0),a.filedData.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[a.filedData.html?(e.openBlock(),e.createBlock(e.resolveDynamicComponent("span"),{key:0,innerHTML:l()},null,8,["innerHTML"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l()),1)],64))],64)):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default")]),_:3},8,["class","title","style"]))],64)):e.createCommentVNode("",!0)}}}),A=Object.assign({name:"Row"},{props:{tableData:Object,rowData:Object,filedData:Object},setup(a){const t=a,i=()=>t.filedData.caseColon?t.filedData.caseColon(t.rowData,t.filedData):!0;return(s,m)=>i()?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.filedData.tag?a.filedData.tag:"td"),{key:0,class:e.normalizeClass(a.filedData.class)},{default:e.withCtx(()=>[a.filedData.list?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(a.filedData.list,(k,D)=>(e.openBlock(),e.createBlock(C,{key:D+"-body",filedData:k,rowData:a.rowData},null,8,["filedData","rowData"]))),128)):e.createCommentVNode("",!0)]),_:1},8,["class"])):e.createCommentVNode("",!0)}}),q=Object.assign({name:"LineTable"},{props:{tableData:Object},setup(a){return(t,i)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.tableData.line.tag?a.tableData.line.tag:"tr"),{class:e.normalizeClass(a.tableData.line.class)},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"default")]),_:3},8,["class"]))}}),I=Object.assign({name:"ListBody"},{props:{tableData:Object,preHandler:Object,searchData:Array},setup(a){return(t,i)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.searchData,s=>(e.openBlock(),e.createBlock(q,{key:s,tableData:a.tableData},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.tableData.data,m=>(e.openBlock(),e.createBlock(A,{key:m,rowData:s,filedData:m,tableData:a.tableData},null,8,["rowData","filedData","tableData"]))),128)),s.open?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.tableData.line.tag?a.tableData.line.tag:"tr"),{key:0,class:e.normalizeClass(a.tableData.line.class)},{default:e.withCtx(()=>[a.tableData.line.tag==="tr"||!a.tableData.line.tag?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.filedData.tag?t.filedData.tag:"td"),{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(s.component),{pageData:s},null,8,["pageData"]))]),_:2},1024)):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.filedData.tag?t.filedData.tag:"td"),{key:1},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(s.component),{pageData:s},null,8,["pageData"]))]),_:2},1024))]),_:2},1032,["class"])):e.createCommentVNode("",!0)]),_:2},1032,["tableData"]))),128))}}),U=Object.assign({name:"SectionBody"},{props:{column:Object,preHandler:Object,searchData:Array,runSearch:Function},setup(a){return(t,i)=>a.column.type==="comp"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.column.name==="tableHead"?(e.openBlock(),e.createBlock(L,{key:0,tableData:a.column,searchData:a.searchData,preHandler:a.preHandler},null,8,["tableData","searchData","preHandler"])):a.column.name==="tableBody"?(e.openBlock(),e.createBlock(I,{key:1,tableData:a.column,searchData:a.searchData,preHandler:a.preHandler},null,8,["tableData","searchData","preHandler"])):a.column.name==="pagination"?(e.openBlock(),e.createBlock(z,{key:2,searchData:a.searchData,preHandler:a.preHandler},null,8,["searchData","preHandler"])):a.column.name==="autosearch"?(e.openBlock(),e.createBlock(j,{key:3,autoSearch:a.column.data,runSearch:a.runSearch,preHandler:a.preHandler},null,8,["autoSearch","runSearch","preHandler"])):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.column.name),{key:4,compData:a.column.data,rowData:{}},null,8,["compData"])),a.column.list?(e.openBlock(),e.createBlock(B,{key:5,columns:a.column.list,searchData:a.searchData,preHandler:a.preHandler,runSearch:a.runSearch},null,8,["columns","searchData","preHandler","runSearch"])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createBlock(w,{key:1,filedData:a.column,rowData:{}},{default:e.withCtx(()=>[a.column.list?(e.openBlock(),e.createBlock(B,{key:0,columns:a.column.list,searchData:a.searchData,preHandler:a.preHandler,runSearch:a.runSearch},null,8,["columns","searchData","preHandler","runSearch"])):e.createCommentVNode("",!0)]),_:1},8,["filedData"]))}}),B=Object.assign({name:"Section"},{props:{columns:Array,preHandler:Object,searchData:Array,runSearch:Function},setup(a){const t=i=>typeof i.caseColon=="function"?i.caseColon():!0;return(i,s)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.columns,m=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:m},[t(m)?(e.openBlock(),e.createBlock(U,{key:0,column:m,preHandler:a.preHandler,searchData:a.searchData,runSearch:a.runSearch},null,8,["column","preHandler","searchData","runSearch"])):e.createCommentVNode("",!0)],64))),128))}}),R={key:1,class:"loader"},J=Object.assign({name:"AutoPage"},{props:{pageSetting:Object,allData:{type:Array,default:[]}},setup(a){const t=a,i=e.reactive([]),s=e.reactive([]),m=r=>r.replace(/Ğ/g,"\u011F").replace(/Ü/g,"\xFC").replace(/Ş/g,"\u015F").replace(/I/g,"\u0131").replace(/İ/g,"i").replace(/Ö/g,"\xF6").replace(/Ç/g,"\xE7").toLowerCase();e.watch(t.allData,()=>{k()}),e.watch(t.pageSetting.preHandler.pagination,()=>{t.pageSetting.preHandler.dynamic||k()});const k=()=>{let r=t.pageSetting.preHandler.autoSearch&&t.pageSetting.preHandler.autoSearch.value.length>0?t.allData.filter(c=>{let l=[];return t.pageSetting.preHandler.autoSearch.alans.forEach(g=>{l.push(m(c[g].toString()))}),l.join(" ").indexOf(m(t.pageSetting.preHandler.autoSearch.value))!==-1}):t.allData;i.splice(0,i.length),i.push(...r),D()},D=()=>{if(s.splice(0,s.length),t.pageSetting.preHandler.dynamic)s.push(...i);else{const r=i.length,c=t.pageSetting.preHandler.pagination;c.total=r;const l=Math.ceil(r/c.pageSize);c.page>l&&l>0&&(c.page=l);const d=(c.page-1)*c.pageSize;s.push(...i.slice(d,d+c.pageSize))}};return e.onMounted(()=>{k()}),(r,c)=>a.pageSetting.loader?(e.openBlock(),e.createElementBlock("div",R,"Loader...")):(e.openBlock(),e.createBlock(B,{key:0,columns:a.pageSetting.pageData,preHandler:a.pageSetting.preHandler,searchData:s,runSearch:k},null,8,["columns","preHandler","searchData"]))}});class K{constructor(){this.preHandler={dynamic:!1,loader:!1,pagination:{status:!0,page:1,pageSize:20,total:0},autoSearch:{value:"",alans:[]},sorting:{n:"",t:1,r:!1},tableCahngePage:()=>{},tableSorting:()=>{}},this.pageData=[]}}y.AutoPage=J,y.createPageSetting=K,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
